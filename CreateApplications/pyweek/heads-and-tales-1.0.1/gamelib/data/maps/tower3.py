@mapscript()
def script(g):
    changeimage("igor", "dummy_warehouse")
    changeimage("floor1", "igor")
    if first(g, "igorbetrayal"):
        yield dialogue("Assistant! We have returned, triumphant!", "Heinrich#point", 'left')
        yield dialogue("Prepare a celebratory banquet at once!", "Heinrich", 'left')
        yield dialogue("I shall require an entire roast pig, and a jeroboam of ice cream.")
        yield dialogue("My idiot sister will have a plate of cucumber sandwiches, without crusts.")
        yield dialogue('I think not, Master.', 'Assistant', 'right')
        yield dialogue("What do you mean, you defective upstart?", "Heinrich", 'left')
        yield dialogue("I did some thinking while you were away.", "Assistant", 'right')
        yield dialogue("About your constant bragging and bluster, and the hateful way you treat me.")
        yield dialogue("Well, no more!")
        yield dialogue("I took your advice to heart, and decided to build some chimeras of my own.")
        yield dialogue("And now I'm going to crush you!")
        yield dialogue("Preposterous! You're nothing but a talentless lab technician!", "Heinrich", 'left')
        yield dialogue("Save your breath, Master, for you are about to die.", "Assistant", 'right')
        yield dialogue("And by the way, I have a name.")
        yield dialogue("You never thought to ask, but soon the world will know the wrath ...")
        yield dialogue("... of IGOR!", "Igor", 'right')
        yield endcutscene()
        yield battle(Team([monsters.igorboss1, monsters.igorboss2]), [SharkHead, CrocodileTail])
    else:
        yield dialogue("You imbecilic braggart!", "Heinrich#point", 'left')
        yield dialogue("You thought your monsters could beat me?")
        yield dialogue("I am the greatest chimerologist this world has ever known!")
        yield dialogue("No-one can hold a candle to my greatness!")
        yield dialogue("My name shall be spoken with reverent awe for generations to come!")
        yield dialogue("Brother ...", "Becka", 'left')
        yield dialogue("Future encyclopedias will devote whole chapters to my accomplishments!", "Heinrich#point", "left")
        yield dialogue("When the end of days comes, and the last men look back on the greatest marvels of human history ...")
        yield dialogue("Take this!\n*CLANG*", "Igor#fryingpan", 'right')
        setportrait("Igor", 'right')
        yield dialogue("... Igor is about to interrupt your monologue with a frying pan.", "Becka#facepalm", 'left')
        yield dialogue("Ah, well, I tried to tell him.", "Becka", 'left')
        yield endcutscene()
        g.reset_inventory()
        yield changemap("island", "beach")
